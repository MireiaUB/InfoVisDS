<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Axis</title>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<style type="text/css">
			circle{
				fill:green;
			}
		</style>
	</head>
	<body>
		<div class="chart">
		</div>
		<script type="text/javascript">
	var margin = {top:20,right:20,bottom:45,left:45},
	width = 800 -margin.left -margin.right,
	height = 400 -margin.top -margin.bottom,
	svg = d3.select(".chart")
	   .append('svg')
		   .attr('width',width + margin.left + margin.right)
		   .attr('height',height + margin.top + margin.bottom)
		   .attr('style','border: 1px solid red')
	   .append('g')
		   .attr('id','main')
		   .attr('transform','translate('+margin.left+','+margin.top+')');

	d3.csv("time_scale_data.csv", function(data) {

	var parseDate = d3.timeParse("%Y/%m/%d");

		//start and end dates
		var startDate = d3.min(data, function(d){
			return parseDate(d.Date);});
		var finalDate = d3.max(data, function(d){
			return parseDate(d.Date);});
		
		//Create scale functions
		xScale = d3.scaleTime()
					   .domain([
							new Date(startDate),  
							new Date(finalDate)	  
						])
					   .range([0,width]);
					   
		
		yScale = d3.scaleLinear()
					   .domain([
							0,  //zero baseline
							d3.max(data, function(d) { return d.Amount; })
						])
					   .range([height,0]);

		//Define X axis
		xAxis = d3.axisBottom()
						  .scale(xScale)
						  .ticks(d3.timeDay.every(2))
						  .tickPadding(10)

		//Define Y axis
		yAxis = d3.axisLeft()
						  .scale(yScale)
						  .ticks(10);

		//Points
		d3.select('g#main')
		   .selectAll("circle")
		   .data(data)
		   .enter()
		   .append("circle")
		   .attr("cx", function(d) {
				return xScale(new Date(d.Date));
		   })
		   .attr("cy", function(d) {
				return yScale(d.Amount);
		   })
		   .attr("r", 2);
		
		//Create X axis
		d3.select('g#main')
			.append("g")
			.attr("class", "axis")
			.attr("transform", "translate(0,"+height+")")
			.call(xAxis);
		
		//Create Y axis
		d3.select('g#main')
			.append("g")
			.attr("class", "axis")
			.attr("transform", "translate(0,0)")
			.call(yAxis);

	});
			
	</script>
</body>
</html>